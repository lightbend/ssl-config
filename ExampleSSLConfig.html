<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Example Configurations · SSL Config</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='SSL Config'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/warnOldVersion.js"></script>
<script type="text/javascript" src="js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>

<!--
<link rel="shortcut icon" href="images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>SSL Config
</a>
<div class="version-number">
0.4.3
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="WSQuickStart.html" class="page">Quick Start to WS SSL</a></li>
  <li><a href="CertificateGeneration.html" class="page">Generating X.509 Certificates</a></li>
  <li><a href="KeyStores.html" class="page">Configuring Trust Stores and Key Stores</a></li>
  <li><a href="Protocols.html" class="page">Configuring Protocols</a></li>
  <li><a href="CipherSuites.html" class="page">Configuring Cipher Suites</a></li>
  <li><a href="CertificateRevocation.html" class="page">Configuring Certificate Revocation</a></li>
  <li><a href="HostnameVerification.html" class="page">Hostname Verification</a></li>
  <li><a href="CertificateValidation.html" class="page">Configuring Certificate Validation</a></li>
  <li><a href="ExampleSSLConfig.html" class="active page">Example Configurations</a></li>
  <li><a href="DefaultContext.html" class="page">Using the Default SSLContext</a></li>
  <li><a href="DebuggingSSL.html" class="page">Debugging SSL Connections</a></li>
  <li><a href="LooseSSL.html" class="page">Loose Options</a></li>
  <li><a href="TestingSSL.html" class="page">Testing SSL</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="index.html">SSL Config</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>SSL Config
</a>
<div class="version-number">
0.4.3
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="WSQuickStart.html" class="page">Quick Start to WS SSL</a></li>
  <li><a href="CertificateGeneration.html" class="page">Generating X.509 Certificates</a></li>
  <li><a href="KeyStores.html" class="page">Configuring Trust Stores and Key Stores</a></li>
  <li><a href="Protocols.html" class="page">Configuring Protocols</a></li>
  <li><a href="CipherSuites.html" class="page">Configuring Cipher Suites</a></li>
  <li><a href="CertificateRevocation.html" class="page">Configuring Certificate Revocation</a></li>
  <li><a href="HostnameVerification.html" class="page">Hostname Verification</a></li>
  <li><a href="CertificateValidation.html" class="page">Configuring Certificate Validation</a></li>
  <li><a href="ExampleSSLConfig.html" class="active page">Example Configurations</a></li>
  <li><a href="DefaultContext.html" class="page">Using the Default SSLContext</a></li>
  <li><a href="DebuggingSSL.html" class="page">Debugging SSL Connections</a></li>
  <li><a href="LooseSSL.html" class="page">Loose Options</a></li>
  <li><a href="TestingSSL.html" class="page">Testing SSL</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="index.html">SSL Config</a></li>
  <li>Example Configurations</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#example-configurations" name="example-configurations" class="anchor"><span class="anchor-link"></span></a>Example Configurations</h1>
<p>TLS can be very confusing. Here are some settings that can help.</p>
<h2><a href="#connecting-to-an-internal-web-service" name="connecting-to-an-internal-web-service" class="anchor"><span class="anchor-link"></span></a>Connecting to an internal web service</h2>
<p>If you are using WS to communicate with a single internal web service which is configured with an up to date TLS implementation, then you have no need to use an external CA. Internal certificates will work fine, and are arguably <a href="http://www.thoughtcrime.org/blog/authenticity-is-broken-in-ssl-but-your-app-ha/">more secure</a> than the CA system.</p>
<p>Generate a self signed certificate from the <a href="CertificateGeneration.html">generating certificates</a> section, and tell the client to trust the CA&rsquo;s public certificate.</p>
<pre class="prettyprint"><code class="language-conf">ssl-config {
  trustManager = {
    stores = [
      { type = &quot;JKS&quot;, path = &quot;exampletrust.jks&quot; }
    ]
  }
}
</code></pre>
<h2><a href="#connecting-to-an-internal-web-service-with-client-authentication" name="connecting-to-an-internal-web-service-with-client-authentication" class="anchor"><span class="anchor-link"></span></a>Connecting to an internal web service with client authentication</h2>
<p>If you are using client authentication, then you need to include a keyStore to the key manager that contains a PrivateKeyEntry, which consists of a private key and the X.509 certificate containing the corresponding public key. See the &ldquo;Configure Client Authentication&rdquo; section in <a href="CertificateGeneration.html">generating certificates</a>.</p>
<pre class="prettyprint"><code class="language-conf">ssl-config {
  keyManager = {
    stores = [
      { type = &quot;JKS&quot;, path = &quot;client.jks&quot;, password = &quot;changeit1&quot; }
    ]
  }
  trustManager = {
    stores = [
      { type = &quot;JKS&quot;, path = &quot;exampletrust.jks&quot; }
    ]
  }
}
</code></pre>
<h2><a href="#connecting-to-several-external-web-services" name="connecting-to-several-external-web-services" class="anchor"><span class="anchor-link"></span></a>Connecting to several external web services</h2>
<p>If you are communicating with several external web services, then you may find it more convenient to configure one client with several stores:</p>
<pre class="prettyprint"><code class="language-conf">ssl-config {
  trustManager = {
    stores = [
      { type = &quot;PEM&quot;, path = &quot;service1.pem&quot; }
      { path = &quot;service2.jks&quot; }
      { path = &quot;service3.jks&quot; }
    ]
  }
}
</code></pre>
<p>If client authentication is required, then you can also set up the key manager with several stores:</p>
<pre class="prettyprint"><code class="language-conf">ssl-config {
  keyManager = {
    stores = [
      { type: &quot;PKCS12&quot;, path: &quot;keys/service1-client.p12&quot;, password: &quot;changeit1&quot; },
      { type: &quot;PKCS12&quot;, path: &quot;keys/service2-client.p12&quot;, password: &quot;changeit2&quot; },
      { type: &quot;PKCS12&quot;, path: &quot;keys/service3-client.p12&quot;, password: &quot;changeit3&quot; }
    ]
  }
}
</code></pre>
<h2><a href="#both-private-and-public-servers" name="both-private-and-public-servers" class="anchor"><span class="anchor-link"></span></a>Both Private and Public Servers</h2>
<p>If you are using WS to access both private and public servers on the same profile, then you will want to include the default JSSE trust store as well:</p>
<pre class="prettyprint"><code class="language-conf">ssl-config {
  trustManager = {
    stores = [
      { path: exampletrust.jks }     # Added trust store
      { path: ${java.home}/lib/security/cacerts } # Fallback to default JSSE trust store
    ]
  }
}
</code></pre>
<div class="nav-next">
<p><strong>Next:</strong> <a href="DefaultContext.html">Using the Default SSLContext</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="ExampleSSLConfig.html#example-configurations" class="header">Example Configurations</a>
  <ul>
    <li><a href="ExampleSSLConfig.html#connecting-to-an-internal-web-service" class="header">Connecting to an internal web service</a></li>
    <li><a href="ExampleSSLConfig.html#connecting-to-an-internal-web-service-with-client-authentication" class="header">Connecting to an internal web service with client authentication</a></li>
    <li><a href="ExampleSSLConfig.html#connecting-to-several-external-web-services" class="header">Connecting to several external web services</a></li>
    <li><a href="ExampleSSLConfig.html#both-private-and-public-servers" class="header">Both Private and Public Servers</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 1980</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '0.4.3', '')});</script>


</html>
